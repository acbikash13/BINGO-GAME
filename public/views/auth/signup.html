<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign up</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Stylish&display=swap"
      rel="stylesheet"
    />

    <style>
      .welcome {
        font-family: "Stylish", serif;
        font-style: normal;
      }
    </style>
  </head>
  <body>
    <div class="lg:grid lg:min-h-screen lg:grid-cols-12">
      <section
        class="relative flex items-end bg-gray-900 lg:col-span-9 lg:h-full xl:col-span-8"
      >
        <img
          alt="bingo-image"
          src="../../assests/homepage3.png"
          class="absolute inset-0 h-full w-full object-cover opacity-80"
        />
      </section>
      <main
        class="flex items-center justify-center px-8 py-8 sm:px-12 lg:col-span-3 lg:px-16 lg:py-12 xl:col-span-4"
      >
        <div class="max-w-xl lg:max-w-3xl">
          <div class="relative -mt-16 block">
            <h1 class="text-2xl welcome sm:text-4xl text-cyan-500">
              Welcome to Bingo Game!
              <br />
              Please Sign Up!
            </h1>
          </div>
          <form
            id="signup-form"
            class="mt-8 grid grid-cols-6 gap-6 shadow-md rounded-md p-3"
          >
            <div class="col-span-6">
              <input
                type="text"
                id="first-name"
                placeholder="First Name"
                name="firstName"
                placeholder="Enter your email"
                class="mt-1 w-full p-4 rounded-md shadow-md"
              />
            </div>
            <div class="col-span-6">
              <input
                type="text"
                id="last-name"
                placeholder="Last Name"
                name="lastName"
                placeholder="Last Name"
                class="mt-1 w-full p-4 rounded-md shadow-md"
              />
            </div>
            <div class="col-span-6">
              <input
                type="email"
                id="email"
                name="email"
                placeholder="Enter your email"
                class="mt-1 w-full p-4 rounded-md shadow-md"
              />
            </div>
            <div class="col-span-6">
              <input
                type="password"
                id="password"
                name="password"
                placeholder="Enter password"
                class="mt-1 w-full rounded-md p-4 shadow-md"
              />
            </div>
            <div class="col-span-6 flex-col sm:flex sm:items-center sm:gap-4">
              <button
                type="submit"
                class="rounded-sm bg-cyan-500 p-2 w-full shadow-lg"
              >
                <span class="text-white">Sign Up</span>
              </button>
              <p class="text-cyan-500">Or</p>
              <button
                class="rounded-sm bg-cyan-500 p-2 w-full shadow-lg"
                onclick="location.href='/login'"
                type="button"
              >
                <span class="text-white">Log In</span>
              </button>
              <a
                class="text-info my-2"
                href="/contact"
                target="_blank"
                style="text-decoration: underline; font-size: 18px"
                >Please Contact Us Here!</a
              >
            </div>
          </form>
        </div>
      </main>
    </div>
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.6/axios.min.js"></script>
    <!-- <script type="module" src="../js/join.js"></script> -->
    <script>
      //get the signup form
      const form = document.getElementById("signup-form");
      // submits the signup info once the submit action is done upon clicking the submit button.
      form.addEventListener("submit", (event) => {
        event.preventDefault();
        const firstname = form.firstName.value;
        const lastname = form.lastName.value;
        const email = form.email.value;
        const password = form.password.value;
        const data = {
          firstName: firstname,
          lastName: lastname,
          userName: email,
          password: password,
        };
        if (
          firstname.length !== 0 &&
          lastname.length !== 0 &&
          email.length !== 0 &&
          password.length !== 0
        ) {
          axios
            .post("/api/auth/signup", data)
            .then((response) => {
              if (response.status === 201) {
                console.log(response.status);
                window.location.href = "/login";
              } else if (response.status === 406) {
                alert(response.json);
              }
              form.reset();
            })
            .catch((error) => {
              alert(response.json());
            });
        } else {
          alert("Please feel out the entire form to sign in!");
        }
      });
    </script>
  </body>
</html>
