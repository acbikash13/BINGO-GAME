<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Page</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="../../../output.css" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Stylish&display=swap"
      rel="stylesheet"
    />
    <style>
      .btn-wooden-plank {
        position: relative;
        width: 240px;
        height: 80px;
        background: linear-gradient(
          90deg,
          #8b4513 0%,
          #a0522d 5%,
          #8b4513 10%,
          #a0522d 15%,
          #8b4513 20%,
          #a0522d 25%,
          #8b4513 30%,
          #a0522d 35%,
          #8b4513 40%,
          #a0522d 45%,
          #8b4513 50%,
          #a0522d 55%,
          #8b4513 60%,
          #a0522d 65%,
          #8b4513 70%,
          #a0522d 75%,
          #8b4513 80%,
          #a0522d 85%,
          #8b4513 90%,
          #a0522d 95%,
          #8b4513 100%
        );
        border: none;
        border-radius: 12px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
        cursor: pointer;
        overflow: hidden;
      }
      .btn-wooden-plank::before {
        content: "";
        position: absolute;
        top: 2px;
        left: 2px;
        right: 2px;
        bottom: 2px;
        background: linear-gradient(
            90deg,
            transparent 50%,
            rgba(255, 255, 255, 0.1) 50%
          ),
          linear-gradient(90deg, rgba(255, 255, 255, 0.05) 50%, transparent 50%);
        background-size: 10px 100%, 20px 100%;
        border-radius: 10px;
      }
      .btn-wooden-plank::after {
        content: "";
        position: absolute;
        top: 8px;
        left: 8px;
        right: 8px;
        bottom: 8px;
        background-color: #47a9ff;
        border-radius: 6px;
        box-shadow: inset 0 2px 5px rgba(255, 255, 255, 0.3),
          inset 0 -2px 5px rgba(0, 0, 0, 0.3);
      }
      .btn-wooden-plank span {
        position: relative;
        z-index: 1;
        font-family: Arial, sans-serif;
        font-size: 32px;
        font-weight: bold;
        color: white;
        text-transform: uppercase;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }
    </style>
  </head>

  <body>
    <div class="lg:grid lg:min-h-screen lg:grid-cols-12">
      <section
        class="relative flex items-end bg-gray-900 lg:col-span-9 lg:h-full xl:col-span-8"
      >
        <img
          alt="bingo-image"
          src="../../assests/homepage3.png"
          class="absolute inset-0 h-full w-full object-cover opacity-80"
        />
      </section>
      <main
        class="flex items-center justify-center px-8 py-8 sm:px-12 lg:col-span-3 lg:px-16 lg:py-12 xl:col-span-4"
      >
        <div class="max-w-xl lg:max-w-3xl">
          <div class="relative -mt-16 block">
            <h1 class="text-2xl font-bold text-black sm:text-3xl">
              Welcome to Bingo Game
            </h1>
          </div>
          <form class="mt-8 grid grid-cols-6 gap-6">
            <div class="col-span-6">
              <input
                type="email"
                id="email"
                name="email"
                placeholder="Enter your email"
                class="btn-wooden-plank mt-1 w-full p-3 rounded-md shadow-md"
              />
            </div>
            <div class="col-span-6">
              <input
                type="password"
                id="password"
                name="password"
                placeholder="Enter password"
                class="mt-1 w-full rounded-md p-3 btn-wooden-plank shadow-md"
              />
            </div>
            <div class="col-span-6 flex-col sm:flex sm:items-center sm:gap-4">
              <button type="submit" class="btn-wooden-plank">
                <span>LOG IN</span>
              </button>
              <but ton class="btn-wooden-plank" id="signUpButton">
                <span>SIGN UP</span>
              </button>
              <button
                class="btn-wooden-plank"
                type="button"
                onclick="loginWithGoogle()"
                id="signin-with-google"
              >
                <span> Google </span>
              </button>
            </div>
          </form>
        </div>
      </main>
    </div>
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/typewriter-effect@latest/dist/core.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.6/axios.min.js"></script>
    <script src="/controller/cookies.js"></script>
    <!-- <script src="../js/script.js"></script> -->
    <script>
      const loginForm = document.getElementById("login-form");
      loginForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const email = loginForm.email.value;
        const password = loginForm.password.value;
        const userData = {
          userName: email,
          password: password,
        };
        axios
          .post("/api/auth/login", userData)
          .then((response) => {
            if (response.status === 200) {
              console.log(response.data.message);
              cookies.set(
                "jwt",
                response.headers.authorization.replace("Bearer ", "")
              );
              window.location.href = "/homePage";
            } else {
              alert(response.data.message);
            }
          })
          .catch((error) => {
            alert(error);
          });
      });

      const signUpButton = document.getElementById("signUpButton");
      signUpButton.addEventListener("click", () => {
        window.location.href = "/signup";
      });

      async function loginWithGoogle() {
        try {
          const response = await axios.get("/google/authurl");
          window.location.href = response.data.url;
        } catch (error) {
          console.error("Error fetching auth URL:", error);
        }
      }
    </script>
  </body>
</html>
